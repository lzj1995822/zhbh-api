<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jtzh.mapper.ScenicAreaDutyPointMapper">
    <resultMap id="BaseResultMap" type="com.jtzh.entity.ScenicAreaDutyPoint">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        <id column="ScenicAreaDutyPointID" jdbcType="INTEGER" property="scenicAreaDutyPointID"/>
        <result column="ScenicAreaDutyPointName" jdbcType="VARCHAR"
                property="scenicAreaDutyPointName"/>
        <result column="NetGridID" jdbcType="BIGINT" property="netGridID"/>
        <result column="ScenicAreaDutyPointLongitude" jdbcType="DOUBLE"
                property="scenicAreaDutyPointLongitude"/>
        <result column="ScenicAreaDutyPointLatitude" jdbcType="DOUBLE"
                property="scenicAreaDutyPointLatitude"/>
    </resultMap>
    <resultMap id="ScenicAreaDutyPointVO" type="com.jtzh.vo.gis.ScenicAreaDutyPointVO">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        <id column="ScenicAreaDutyPointID" jdbcType="INTEGER" property="scenicAreaDutyPointID"/>
        <result column="ScenicAreaDutyPointName" jdbcType="VARCHAR"
                property="scenicAreaDutyPointName"/>
        <result column="NetGridID" jdbcType="BIGINT" property="netGridID"/>
        <result column="ScenicAreaDutyPointLongitude" jdbcType="DOUBLE"
                property="scenicAreaDutyPointLongitude"/>
        <result column="ScenicAreaDutyPointLatitude" jdbcType="DOUBLE"
                property="scenicAreaDutyPointLatitude"/>
        <result column="NetGridName" jdbcType="VARCHAR" property="netGridName"/>
    </resultMap>

    <resultMap id="DutyPointVO" type="com.jtzh.vo.dutyPoint.DutyPointVO">
        <id column="ScenicAreaDutyPointID" jdbcType="INTEGER" property="scenicAreaDutyPointID"/>
        <result column="ScenicAreaDutyPointName" jdbcType="VARCHAR"
                property="scenicAreaDutyPointName"/>
        <result column="NetGridName" jdbcType="VARCHAR" property="netGridName"/>
        <result column="ScenicAreaDutyPointLongitude" jdbcType="DOUBLE"
                property="scenicAreaDutyPointLongitude"/>
        <result column="ScenicAreaDutyPointLatitude" jdbcType="DOUBLE"
                property="scenicAreaDutyPointLatitude"/>
    </resultMap>

    <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        delete from TEScenicAreaDutyPoint
        where ScenicAreaDutyPointID =
        #{scenicAreaDutyPointID,jdbcType=INTEGER}
    </delete>
    <insert id="insert" parameterType="com.jtzh.entity.ScenicAreaDutyPoint"
            useGeneratedKeys="true" keyProperty="scenicAreaDutyPointID">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        insert into TEScenicAreaDutyPoint (ScenicAreaDutyPointID,
        ScenicAreaDutyPointName,
        NetGridID, ScenicAreaDutyPointLongitude,
        ScenicAreaDutyPointLatitude)
        values
        (#{scenicAreaDutyPointID,jdbcType=INTEGER},
        #{scenicAreaDutyPointName,jdbcType=VARCHAR},
        #{netGridID,jdbcType=BIGINT},
        #{scenicAreaDutyPointLongitude,jdbcType=DOUBLE},
        #{scenicAreaDutyPointLatitude,jdbcType=DOUBLE})
    </insert>
    <update id="updateByPrimaryKey" parameterType="com.jtzh.entity.ScenicAreaDutyPoint">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        update TEScenicAreaDutyPoint
        set ScenicAreaDutyPointName =
        #{scenicAreaDutyPointName,jdbcType=VARCHAR},
        NetGridID =
        #{netGridID,jdbcType=BIGINT},
        ScenicAreaDutyPointLongitude =
        #{scenicAreaDutyPointLongitude,jdbcType=DOUBLE},
        ScenicAreaDutyPointLatitude =
        #{scenicAreaDutyPointLatitude,jdbcType=DOUBLE}
        where
        ScenicAreaDutyPointID = #{scenicAreaDutyPointID,jdbcType=INTEGER}
    </update>
    <select id="selectByPrimaryKey" parameterType="java.lang.Integer"
            resultMap="BaseResultMap">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        select ScenicAreaDutyPointID, ScenicAreaDutyPointName, NetGridID,
        ScenicAreaDutyPointLongitude,
        ScenicAreaDutyPointLatitude
        from
        TEScenicAreaDutyPoint
        where ScenicAreaDutyPointID =
        #{scenicAreaDutyPointID,jdbcType=INTEGER}
    </select>
    <select id="selectAll" resultMap="BaseResultMap">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        select ScenicAreaDutyPointID, ScenicAreaDutyPointName, NetGridID,
        ScenicAreaDutyPointLongitude,
        ScenicAreaDutyPointLatitude
        from
        TEScenicAreaDutyPoint
    </select>

    <select id="getScenicAreaDutyPointDetail" resultMap="ScenicAreaDutyPointVO">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        select t1.*,t2.NetGridName
        from
        TEScenicAreaDutyPoint t1 left join
        TENetGrid t2 on t1.NetGridID=t2.NetGridID
        where 1=1
        <if test="netGridID!=0 and netGridID!=null">
            and t1.NetGridID=#{netGridID}
        </if>
    </select>

    <select id="getDutyPoint" resultMap="DutyPointVO">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        select
        t1.ScenicAreaDutyPointID,t1.ScenicAreaDutyPointName,t2.NetGridName,t1.ScenicAreaDutyPointLongitude,t1.ScenicAreaDutyPointLatitude
        from
        TEScenicAreaDutyPoint t1 left join
        TENetGrid t2 on t1.NetGridID=t2.NetGridID
        where 1=1
        <if test="netGridID!=0 and netGridID!=null">
            and t1.NetGridID=#{netGridID}
        </if>
        <if test="name!='' and name!=null">
            and t1.ScenicAreaDutyPointName=#{name}
        </if>
        limit #{start}, #{pageSize}
    </select>

    <select id="getDutyPointCount" resultType="java.lang.Integer">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        select
        count(*) from
        TEScenicAreaDutyPoint t1 left join
        TENetGrid t2 on t1.NetGridID=t2.NetGridID
        where 1=1
        <if test="netGridID!=0 and netGridID!=null">
            and t1.NetGridID=#{netGridID}
        </if>
        <if test="name!='' and name!=null">
            and t1.ScenicAreaDutyPointName=#{name}
        </if>
    </select>

    <select id="getDutyPointDetailByID" resultMap="DutyPointVO">
         select
        t1.ScenicAreaDutyPointID,t1.ScenicAreaDutyPointName,t2.NetGridName,t1.ScenicAreaDutyPointLongitude,t1.ScenicAreaDutyPointLatitude
        from
        TEScenicAreaDutyPoint t1 left join
        TENetGrid t2 on t1.NetGridID=t2.NetGridID
        where t1.ScenicAreaDutyPointID=#{id}

    </select>


    <select id="getCount" resultType="java.lang.Integer">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        select count(*)
        from TEScenicAreaDutyPoint
        where 1=1
        <if test="netGridID!=0 and netGridID!=null">
            and NetGridID=#{netGridID}
        </if>
    </select>
</mapper>