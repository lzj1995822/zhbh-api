<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jtzh.mapper.SPProcessionPersonMapper">
    <resultMap id="BaseResultMap" type="com.jtzh.entity.SPProcessionPerson">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <id column="PersonID" jdbcType="BIGINT" property="personID"/>
        <result column="ProcessionID" jdbcType="BIGINT" property="processionID"/>
        <result column="CertifID" jdbcType="CHAR" property="certifID"/>
        <result column="Name" jdbcType="VARCHAR" property="name"/>
        <result column="Sex" jdbcType="CHAR" property="sex"/>
        <result column="BirthDate" jdbcType="DATE" property="birthDate"/>
        <result column="Ethnicity" jdbcType="CHAR" property="ethnicity"/>
        <result column="NativePlace" jdbcType="VARCHAR" property="nativePlace"/>
        <result column="Politics" jdbcType="CHAR" property="politics"/>
        <result column="MaritalStatus" jdbcType="CHAR" property="maritalStatus"/>
        <result column="Education" jdbcType="CHAR" property="education"/>
        <result column="ReligiousBelief" jdbcType="CHAR" property="religiousBelief"/>
        <result column="MobileTel" jdbcType="VARCHAR" property="mobileTel"/>
        <result column="FixedTel" jdbcType="VARCHAR" property="fixedTel"/>
        <result column="PresentAddress" jdbcType="CHAR" property="presentAddress"/>
        <result column="PresentAddressDetail" jdbcType="VARCHAR" property="presentAddressDetail"/>
    </resultMap>
    <resultMap id="ProcessionPersonVO" type="com.jtzh.vo.skynet.ProcessionPersonVO">
        <id column="PersonID" jdbcType="BIGINT" property="personID"/>
        <result column="ProcessionName" jdbcType="VARCHAR" property="processionName"/>
        <result column="CertifID" jdbcType="CHAR" property="certifID"/>
        <result column="Name" jdbcType="VARCHAR" property="name"/>
        <result column="Sex" jdbcType="CHAR" property="sex"/>
        <result column="BirthDate" jdbcType="DATE" property="birthDate"/>
        <result column="EthnicityName" jdbcType="VARCHAR" property="ethnicity"/>
        <result column="NativePlace" jdbcType="VARCHAR" property="nativePlace"/>
        <result column="PoliticsTypeName" jdbcType="VARCHAR" property="politics"/>
        <result column="MaritalStatusName" jdbcType="VARCHAR" property="maritalStatus"/>
        <result column="EducationTypeName" jdbcType="VARCHAR" property="education"/>
        <result column="ReligiousBeliefName" jdbcType="VARCHAR" property="religiousBelief"/>
        <result column="MobileTel" jdbcType="VARCHAR" property="mobileTel"/>
        <result column="FixedTel" jdbcType="VARCHAR" property="fixedTel"/>
        <result column="PresentAddress" jdbcType="CHAR" property="presentAddress"/>
        <result column="PresentAddressDetail" jdbcType="VARCHAR" property="presentAddressDetail"/>
    </resultMap>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        delete from TESPProcessionPerson
        where PersonID = #{personID,jdbcType=BIGINT}
    </delete>
    <insert id="insert" parameterType="com.jtzh.entity.SPProcessionPerson" keyProperty="personID"
            useGeneratedKeys="true">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into TESPProcessionPerson (PersonID, ProcessionID, CertifID,
        Name, Sex, BirthDate, Ethnicity,
        NativePlace, Politics, MaritalStatus,
        Education, ReligiousBelief, MobileTel,
        FixedTel, PresentAddress, PresentAddressDetail
        )
        values (#{personID,jdbcType=BIGINT}, #{processionID,jdbcType=BIGINT}, #{certifID,jdbcType=CHAR},
        #{name,jdbcType=VARCHAR}, #{sex,jdbcType=CHAR}, #{birthDate,jdbcType=DATE}, #{ethnicity,jdbcType=CHAR},
        #{nativePlace,jdbcType=VARCHAR}, #{politics,jdbcType=CHAR}, #{maritalStatus,jdbcType=CHAR},
        #{education,jdbcType=CHAR}, #{religiousBelief,jdbcType=CHAR}, #{mobileTel,jdbcType=VARCHAR},
        #{fixedTel,jdbcType=VARCHAR}, #{presentAddress,jdbcType=CHAR}, #{presentAddressDetail,jdbcType=VARCHAR}
        )
    </insert>
    <update id="updateByPrimaryKey" parameterType="com.jtzh.entity.SPProcessionPerson">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update TESPProcessionPerson
        set ProcessionID = #{processionID,jdbcType=BIGINT},
        CertifID = #{certifID,jdbcType=CHAR},
        Name = #{name,jdbcType=VARCHAR},
        Sex = #{sex,jdbcType=CHAR},
        BirthDate = #{birthDate,jdbcType=DATE},
        Ethnicity = #{ethnicity,jdbcType=CHAR},
        NativePlace = #{nativePlace,jdbcType=VARCHAR},
        Politics = #{politics,jdbcType=CHAR},
        MaritalStatus = #{maritalStatus,jdbcType=CHAR},
        Education = #{education,jdbcType=CHAR},
        ReligiousBelief = #{religiousBelief,jdbcType=CHAR},
        MobileTel = #{mobileTel,jdbcType=VARCHAR},
        FixedTel = #{fixedTel,jdbcType=VARCHAR},
        PresentAddress = #{presentAddress,jdbcType=CHAR},
        PresentAddressDetail = #{presentAddressDetail,jdbcType=VARCHAR}
        where PersonID = #{personID,jdbcType=BIGINT}
    </update>
    <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select PersonID, ProcessionID, CertifID, Name, Sex, BirthDate, Ethnicity, NativePlace,
        Politics, MaritalStatus, Education, ReligiousBelief, MobileTel, FixedTel, PresentAddress,
        PresentAddressDetail
        from TESPProcessionPerson
        where PersonID = #{personID,jdbcType=BIGINT}
    </select>
    <select id="selectAll" resultMap="BaseResultMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select PersonID, ProcessionID, CertifID, Name, Sex, BirthDate, Ethnicity, NativePlace,
        Politics, MaritalStatus, Education, ReligiousBelief, MobileTel, FixedTel, PresentAddress,
        PresentAddressDetail
        from TESPProcessionPerson
    </select>
    <select id="getProcessionPersonDetail" resultMap="ProcessionPersonVO">
        select t1.PersonID, t2.ProcessionName,t1.CertifID,
        t1.name,t1.Sex,t1.BirthDate,t5.EthnicityName,
        t1.NativePlace,t3.PoliticsTypeName,t4.MaritalStatusName,
        t6.EducationTypeName,t7.ReligiousBeliefName,t1.MobileTel,
        t1.FixedTel,t1.PresentAddress,t1.PresentAddressDetail
        from TESPProcessionPerson t1
        left join TESPProcession t2 on
        t1.ProcessionID=t2.id
        left join TECODEPoliticsType t3 on
        t1.Politics=t3.PoliticsTypeValue
        left join TECODEMaritalStatusType t4 on
        t1.MaritalStatus=t4.MaritalStatus
        left join TECODEEthnicityType t5 on
        t1.Ethnicity=t5.Ethnicity
        left join TECODEEducationType t6 on
        t1.Education=t6.Education
        left join TECODEReligiousBeliefType t7 on
        t1.ReligiousBelief=t7.ReligiousBelief
        where t1.PersonID=#{id}
    </select>
    <select id="getProcessionPersonQuery" resultMap="ProcessionPersonVO">
        select t1.PersonID, t2.ProcessionName,t1.CertifID,
        t1.name,t1.Sex,t1.BirthDate,t5.EthnicityName,
        t1.NativePlace,t3.PoliticsTypeName,t4.MaritalStatusName,
        t6.EducationTypeName,t7.ReligiousBeliefName,t1.MobileTel,
        t1.FixedTel,t1.PresentAddress,t1.PresentAddressDetail
        from TESPProcessionPerson t1
        left join TESPProcession t2 on
        t1.ProcessionID=t2.id
        left join TECODEPoliticsType t3 on
        t1.Politics=t3.PoliticsTypeValue
        left join TECODEMaritalStatusType t4 on
        t1.MaritalStatus=t4.MaritalStatus
        left join TECODEEthnicityType t5 on
        t1.Ethnicity=t5.Ethnicity
        left join TECODEEducationType t6 on
        t1.Education=t6.Education
        left join TECODEReligiousBeliefType t7 on
        t1.ReligiousBelief=t7.ReligiousBelief
        where 1=1
        <if test="name != null and name != ''">
            and t1.name like CONCAT(CONCAT('%',
            #{name}), '%')
        </if>
        <if test="processionID != null and processionID != 0">
            and t1.ProcessionID = #{processionID}
        </if>
        limit #{start}, #{pageSize}
    </select>
    <select id="getProcessionPersonQueryCount" resultType="int">
        select count(*)
        from TESPProcessionPerson t1
        left join TESPProcession t2 on
        t1.ProcessionID=t2.id
        left join TECODEPoliticsType t3 on
        t1.Politics=t3.PoliticsTypeValue
        left join TECODEMaritalStatusType t4 on
        t1.MaritalStatus=t4.MaritalStatus
        left join TECODEEthnicityType t5 on
        t1.Ethnicity=t5.Ethnicity
        left join TECODEEducationType t6 on
        t1.Education=t6.Education
        left join TECODEReligiousBeliefType t7 on
        t1.ReligiousBelief=t7.ReligiousBelief
        where 1=1
        <if test="name != null and name != ''">
            and t1.name like CONCAT(CONCAT('%',
            #{name}), '%')
        </if>
        <if test="processionID != null and processionID != 0">
            and t1.ProcessionID = #{processionID}
        </if>
    </select>
</mapper>