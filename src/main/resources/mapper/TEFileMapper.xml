<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jtzh.mapper.TEFileMapper">
    <resultMap id="BaseResultMap" type="com.jtzh.entity.TEFile">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        <id column="FileID" jdbcType="BIGINT" property="fileID"/>
        <result column="FilePath" jdbcType="VARCHAR" property="filePath"/>
        <result column="FileName" jdbcType="VARCHAR" property="fileName"/>
        <result column="FileSuffix" jdbcType="VARCHAR" property="fileSuffix"/>
    </resultMap>
    <resultMap id="EventDealingVideoVO" type="com.jtzh.vo.app.EventDealingVideoVO">
        <id column="FileID" jdbcType="BIGINT" property="fileID"/>
        <result column="FilePath" jdbcType="VARCHAR" property="filePath"/>
        <result column="FileName" jdbcType="VARCHAR" property="fileName"/>
        <result column="FileSuffix" jdbcType="VARCHAR" property="fileSuffix"/>
        <result column="EventDealingID" jdbcType="BIGINT" property="eventDealingID"/>
    </resultMap>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        delete from TEFile
        where FileID = #{fileID,jdbcType=BIGINT}
    </delete>
    <insert id="insert" parameterType="com.jtzh.entity.TEFile"
            keyProperty="fileID" useGeneratedKeys="true">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        insert into TEFile (FileID, FilePath, FileName,
        FileSuffix)
        values
        (#{fileID,jdbcType=BIGINT}, #{filePath,jdbcType=VARCHAR},
        #{fileName,jdbcType=VARCHAR},
        #{fileSuffix,jdbcType=VARCHAR})
    </insert>
    <update id="updateByPrimaryKey" parameterType="com.jtzh.entity.TEFile">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        update TEFile
        set FilePath = #{filePath,jdbcType=VARCHAR},
        FileName =
        #{fileName,jdbcType=VARCHAR},
        FileSuffix =
        #{fileSuffix,jdbcType=VARCHAR}
        where FileID = #{fileID,jdbcType=BIGINT}
    </update>
    <select id="selectByPrimaryKey" parameterType="java.lang.Long"
            resultMap="BaseResultMap">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        select FileID, FilePath, FileName, FileSuffix
        from TEFile
        where FileID =
        #{fileID,jdbcType=BIGINT}
    </select>
    <select id="selectAll" resultMap="BaseResultMap">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        select FileID, FilePath, FileName, FileSuffix
        from TEFile
    </select>
    <select id="selectByDisputeEventID" resultMap="BaseResultMap">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        select t2.* from TRDisputeEventVideoFile t1 left join TEFile t2 on
        t1.FileID=t2.FileID where t1.DisputeEventID=#{disputeEventID};
    </select>
    <select id="selectByServedRecordID" resultMap="BaseResultMap">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        select t2.* from TRServedRecordVideoFile t1 left join TEFile t2 on
        t1.FileID=t2.FileID where t1.ServedRecordID=#{orgMServedPID};
    </select>
    <select id="selectByTrafficAccidentID" resultMap="BaseResultMap">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        select t2.* from TRTrafficAccidentVideoFile t1 left join TEFile t2 on
        t1.FileID=t2.FileID where t1.TrafficAccidentID=#{id};
    </select>
    <select id="selectBySSEventID" resultMap="BaseResultMap">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        select t2.* from TRSecurityEventVideoFile t1 left join TEFile t2 on
        t1.FileID=t2.FileID where t1.SSEventID=#{id};
    </select>
    <select id="selectBySPEventID" resultMap="BaseResultMap">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        select t2.* from TRSkynetPatrolEventVideoFile t1 left join TEFile t2 on
        t1.FileID=t2.FileID where t1.SPEventID=#{id};
    </select>
    <select id="selectByNetGridEventID" resultMap="BaseResultMap">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        select t2.* from TRNetGridEventVideoFile t1 left join TEFile t2 on
        t1.FileID=t2.FileID where t1.EventID=#{id};
    </select>
    <select id="selectSPEventDealingFileBySPEventID" resultMap="BaseResultMap">
       select t2.* from TRSkynetPatrolEventDealingVideoFile t1 left join TEFile t2 on
        t1.FileID=t2.FileID left join TRSkynetPatrolEventDealing t3 on
        t1.SkynetPatrolEventDealingID=t3.SkynetPatrolEventDealingID where t3.SPEventID=#{id};
    </select>
    <select id="selectSSEventDealingFileBySSEventID" resultMap="BaseResultMap">
        select t2.* from TRSSEventDealingVideoFile t1 left join TEFile t2 on
        t1.FileID=t2.FileID left join TRSSEventDealing t3 on
        t1.EventDealingID=t3.EventDealingID where t3.EventID=#{id};
    </select>
    <select id="selectNetGridEventDealingFileByEventID" resultMap="BaseResultMap">
          select t2.* from TRNetGridEventDealingVideoFile t1 left join TEFile t2 on
        t1.FileID=t2.FileID left join TRNetGridEventDealing t3 on
        t1.EventDealingID=t3.EventDealingID where t3.EventID=#{id};
    </select>
    <select id="selectTrafficAccidentDealingFileByEventID" resultMap="BaseResultMap">
          select t2.* from TRTrafficAccidentDealingVideoFile t1 left join TEFile t2 on
        t1.FileID=t2.FileID left join TRTrafficAccidentDealing t3 on
        t1.EventDealingID=t3.EventDealingID where t3.EventID=#{id};
    </select>
    <select id="selectDisputeEventDealingFileByEventID" resultMap="BaseResultMap">
         select t2.* from TRDisputeEventDealingVideoFile t1 left join TEFile t2 on
        t1.FileID=t2.FileID left join TRDisputeEventDealing t3 on
        t1.EventDealingID=t3.EventDealingID where t3.EventID=#{id};
    </select>


    <select id="selectSPEventDealingFileForAPP" resultMap="EventDealingVideoVO">
       select t2.*,t1.SkynetPatrolEventDealingID EventDealingID from TRSkynetPatrolEventDealingVideoFile t1 left join TEFile t2 on
        t1.FileID=t2.FileID left join TRSkynetPatrolEventDealing t3 on
        t1.SkynetPatrolEventDealingID=t3.SkynetPatrolEventDealingID where t3.SPEventID=#{id};
    </select>

    <select id="selectSSEventDealingFileForAPP" resultMap="EventDealingVideoVO">
        select t2.*,t1.EventDealingID from TRSSEventDealingVideoFile t1 left join TEFile t2 on
        t1.FileID=t2.FileID left join TRSSEventDealing t3 on
        t1.EventDealingID=t3.EventDealingID where t3.EventID=#{id};
    </select>

    <select id="selectTrafficAccidentDealingFileForAPP" resultMap="EventDealingVideoVO">
          select t2.* ,t1.EventDealingID from TRTrafficAccidentDealingVideoFile t1 left join TEFile t2 on
        t1.FileID=t2.FileID left join TRTrafficAccidentDealing t3 on
        t1.EventDealingID=t3.EventDealingID where t3.EventID=#{id};
    </select>

    <select id="selectDisputeEventDealingFileForAPP" resultMap="EventDealingVideoVO">
         select t2.*,t1.EventDealingID from TRDisputeEventDealingVideoFile t1 left join TEFile t2 on
        t1.FileID=t2.FileID left join TRDisputeEventDealing t3 on
        t1.EventDealingID=t3.EventDealingID where t3.EventID=#{id};
    </select>
</mapper>