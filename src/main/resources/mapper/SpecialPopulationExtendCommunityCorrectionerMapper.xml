<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jtzh.mapper.SpecialPopulationExtendCommunityCorrectionerMapper">
    <resultMap id="BaseResultMap"
               type="com.jtzh.entity.SpecialPopulationExtendCommunityCorrectioner">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        <id column="ExtendCorrectionerID" jdbcType="BIGINT" property="extendCorrectionerID"/>
        <result column="CertifID" jdbcType="CHAR" property="certifID"/>
        <result column="CommunityCorrectionerCode" jdbcType="VARCHAR"
                property="communityCorrectionerCode"/>
        <result column="OriginalDetentionPlace" jdbcType="VARCHAR"
                property="originalDetentionPlace"/>
        <result column="CorrectingTypeValue" jdbcType="CHAR"
                property="correctingTypeValue"/>
        <result column="CaseTypeValue" jdbcType="CHAR" property="caseTypeValue"/>
        <result column="ConcreteAccusation" jdbcType="VARCHAR"
                property="concreteAccusation"/>
        <result column="OriginalSentence" jdbcType="VARCHAR" property="originalSentence"/>
        <result column="OriginalSentenceStartDate" jdbcType="VARCHAR"
                property="originalSentenceStartDate"/>
        <result column="OriginalSentenceEndDate" jdbcType="VARCHAR"
                property="originalSentenceEndDate"/>
        <result column="CorrectionStartDate" jdbcType="VARCHAR"
                property="correctionStartDate"/>
        <result column="CorrectionEndDate" jdbcType="VARCHAR" property="correctionEndDate"/>
        <result column="AcceptTypeValue" jdbcType="CHAR" property="acceptTypeValue"/>
        <result column="IsRecidivist" jdbcType="INTEGER" property="isRecidivist"/>
        <result column="IsCreatingCorrectionGroup" jdbcType="INTEGER"
                property="isCreatingCorrectionGroup"/>
        <result column="GroupMemberTypeValue" jdbcType="CHAR"
                property="groupMemberTypeValue"/>
        <result column="StopCorrectionTypeValue" jdbcType="CHAR"
                property="stopCorrectionTypeValue"/>
        <result column="IsOutofControl" jdbcType="INTEGER" property="isOutofControl"/>
        <result column="ReasonforOutofControl" jdbcType="VARCHAR"
                property="reasonforOutofControl"/>
        <result column="CheckingOutofControl" jdbcType="VARCHAR"
                property="checkingOutofControl"/>
        <result column="CorrectingOutofControl" jdbcType="VARCHAR"
                property="correctingOutofControl"/>
        <result column="IsMissingControl" jdbcType="INTEGER" property="isMissingControl"/>
        <result column="ReasonforMissingControl" jdbcType="VARCHAR"
                property="reasonforMissingControl"/>
        <result column="CheckingMissingControl" jdbcType="VARCHAR"
                property="checkingMissingControl"/>
        <result column="CorrectingMissingControl" jdbcType="VARCHAR"
                property="correctingMissingControl"/>
        <result column="RewardandPunishment" jdbcType="VARCHAR"
                property="rewardandPunishment"/>
        <result column="ChangingPunishment" jdbcType="VARCHAR"
                property="changingPunishment"/>
        <result column="IsRecidivism" jdbcType="INTEGER" property="isRecidivism"/>
        <result column="RecidivismCharge" jdbcType="VARCHAR" property="recidivismCharge"/>
    </resultMap>

    <resultMap type="com.jtzh.vo.gis.CommunityCorrectionerVO" id="CommunityCorrectionerVO">
        <result column="ExtendCorrectionerID" jdbcType="BIGINT"
                property="extendCorrectionerID"/>
        <result column="CertifID" jdbcType="CHAR" property="certifID"/>
        <result column="CommunityCorrectionerCode" jdbcType="VARCHAR"
                property="communityCorrectionerCode"/>
        <result column="OriginalDetentionPlace" jdbcType="VARCHAR"
                property="originalDetentionPlace"/>
        <result column="CorrectingTypeName" jdbcType="VARCHAR"
                property="correctingTypeName"/>
        <result column="CaseTypeName" jdbcType="VARCHAR" property="caseTypeName"/>
        <result column="ConcreteAccusation" jdbcType="VARCHAR"
                property="concreteAccusation"/>
        <result column="OriginalSentence" jdbcType="VARCHAR" property="originalSentence"/>
        <result column="OriginalSentenceStartDate" jdbcType="VARCHAR"
                property="originalSentenceStartDate"/>
        <result column="OriginalSentenceEndDate" jdbcType="VARCHAR"
                property="originalSentenceEndDate"/>
        <result column="CorrectionStartDate" jdbcType="VARCHAR"
                property="correctionStartDate"/>
        <result column="CorrectionEndDate" jdbcType="VARCHAR" property="correctionEndDate"/>
        <result column="AcceptTypeName" jdbcType="VARCHAR" property="acceptTypeName"/>
        <result column="IsRecidivist" jdbcType="INTEGER" property="isRecidivist"/>
        <result column="IsCreatingCorrectionGroup" jdbcType="INTEGER"
                property="isCreatingCorrectionGroup"/>
        <result column="GroupMemberTypeName" jdbcType="VARCHAR"
                property="groupMemberTypeName"/>
        <result column="StopCorrectionTypeName" jdbcType="VARCHAR"
                property="stopCorrectionTypeName"/>
        <result column="IsOutofControl" jdbcType="INTEGER" property="isOutofControl"/>
        <result column="ReasonforOutofControl" jdbcType="VARCHAR"
                property="reasonforOutofControl"/>
        <result column="CheckingOutofControl" jdbcType="VARCHAR"
                property="checkingOutofControl"/>
        <result column="CorrectingOutofControl" jdbcType="VARCHAR"
                property="correctingOutofControl"/>
        <result column="IsMissingControl" jdbcType="INTEGER" property="isMissingControl"/>
        <result column="ReasonforMissingControl" jdbcType="VARCHAR"
                property="reasonforMissingControl"/>
        <result column="CheckingMissingControl" jdbcType="VARCHAR"
                property="checkingMissingControl"/>
        <result column="CorrectingMissingControl" jdbcType="VARCHAR"
                property="correctingMissingControl"/>
        <result column="RewardandPunishment" jdbcType="VARCHAR"
                property="rewardandPunishment"/>
        <result column="ChangingPunishment" jdbcType="VARCHAR"
                property="changingPunishment"/>
        <result column="IsRecidivism" jdbcType="INTEGER" property="isRecidivism"/>
        <result column="RecidivismCharge" jdbcType="VARCHAR" property="recidivismCharge"/>
        <result column="Longitude" jdbcType="DOUBLE" property="longitude"/>
        <result column="Latitude" jdbcType="DOUBLE" property="latitude"/>
    </resultMap>

    <resultMap type="com.jtzh.vo.served.SpecialPsychoticInfoVO"
               id="SpecialPsychoticInfoVO">
        <result column="ExtendCorrectionerID" jdbcType="BIGINT"
                property="id"/>
        <result column="Name" jdbcType="VARCHAR" property="name"/>
        <result column="Sex" jdbcType="CHAR" property="sex"/>
        <result column="BirthDate" jdbcType="VARCHAR" property="birthDate"/>
        <result column="PoliticsTypeName" jdbcType="VARCHAR" property="politics"/>
        <result column="CertifID" jdbcType="CHAR" property="certifID"/>
        <result column="Career" jdbcType="VARCHAR" property="career"/>
        <result column="MobileTel" jdbcType="VARCHAR" property="mobileTel"/>
    </resultMap>

    <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        delete from TESpecialPopulationExtendCommunityCorrectioner
        where
        ExtendCorrectionerID = #{extendCorrectionerID,jdbcType=BIGINT}
    </delete>
    <insert id="insert"
            parameterType="com.jtzh.entity.SpecialPopulationExtendCommunityCorrectioner"
            keyProperty="extendCorrectionerID" useGeneratedKeys="true">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        insert into TESpecialPopulationExtendCommunityCorrectioner
        (ExtendCorrectionerID, CertifID, CommunityCorrectionerCode,
        OriginalDetentionPlace, CorrectingTypeValue,
        CaseTypeValue,
        ConcreteAccusation, OriginalSentence,
        OriginalSentenceStartDate,
        OriginalSentenceEndDate,
        CorrectionStartDate, CorrectionEndDate,
        AcceptTypeValue,
        IsRecidivist, IsCreatingCorrectionGroup,
        GroupMemberTypeValue, StopCorrectionTypeValue,
        IsOutofControl,
        ReasonforOutofControl,
        CheckingOutofControl, CorrectingOutofControl,
        IsMissingControl, ReasonforMissingControl,
        CheckingMissingControl,
        CorrectingMissingControl,
        RewardandPunishment, ChangingPunishment,
        IsRecidivism, RecidivismCharge)
        values
        (#{extendCorrectionerID,jdbcType=BIGINT}, #{certifID,jdbcType=CHAR},
        #{communityCorrectionerCode,jdbcType=VARCHAR},
        #{originalDetentionPlace,jdbcType=VARCHAR},
        #{correctingTypeValue,jdbcType=CHAR},
        #{caseTypeValue,jdbcType=CHAR},
        #{concreteAccusation,jdbcType=VARCHAR},
        #{originalSentence,jdbcType=VARCHAR},
        #{originalSentenceStartDate,jdbcType=DATE},
        #{originalSentenceEndDate,jdbcType=DATE},
        #{correctionStartDate,jdbcType=DATE},
        #{correctionEndDate,jdbcType=DATE}, #{acceptTypeValue,jdbcType=CHAR},
        #{isRecidivist,jdbcType=INTEGER},
        #{isCreatingCorrectionGroup,jdbcType=INTEGER},
        #{groupMemberTypeValue,jdbcType=CHAR},
        #{stopCorrectionTypeValue,jdbcType=CHAR},
        #{isOutofControl,jdbcType=INTEGER},
        #{reasonforOutofControl,jdbcType=VARCHAR},
        #{checkingOutofControl,jdbcType=VARCHAR},
        #{correctingOutofControl,jdbcType=VARCHAR},
        #{isMissingControl,jdbcType=INTEGER},
        #{reasonforMissingControl,jdbcType=VARCHAR},
        #{checkingMissingControl,jdbcType=VARCHAR},
        #{correctingMissingControl,jdbcType=VARCHAR},
        #{rewardandPunishment,jdbcType=VARCHAR},
        #{changingPunishment,jdbcType=VARCHAR},
        #{isRecidivism,jdbcType=INTEGER},
        #{recidivismCharge,jdbcType=VARCHAR})
    </insert>
    <update id="updateByPrimaryKey"
            parameterType="com.jtzh.entity.SpecialPopulationExtendCommunityCorrectioner">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        update TESpecialPopulationExtendCommunityCorrectioner
        set CertifID =
        #{certifID,jdbcType=CHAR},
        CommunityCorrectionerCode =
        #{communityCorrectionerCode,jdbcType=VARCHAR},
        OriginalDetentionPlace =
        #{originalDetentionPlace,jdbcType=VARCHAR},
        CorrectingTypeValue =
        #{correctingTypeValue,jdbcType=CHAR},
        CaseTypeValue =
        #{caseTypeValue,jdbcType=CHAR},
        ConcreteAccusation =
        #{concreteAccusation,jdbcType=VARCHAR},
        OriginalSentence =
        #{originalSentence,jdbcType=VARCHAR},
        OriginalSentenceStartDate =
        #{originalSentenceStartDate,jdbcType=DATE},
        OriginalSentenceEndDate =
        #{originalSentenceEndDate,jdbcType=DATE},
        CorrectionStartDate =
        #{correctionStartDate,jdbcType=DATE},
        CorrectionEndDate =
        #{correctionEndDate,jdbcType=DATE},
        AcceptTypeValue =
        #{acceptTypeValue,jdbcType=CHAR},
        IsRecidivist =
        #{isRecidivist,jdbcType=INTEGER},
        IsCreatingCorrectionGroup =
        #{isCreatingCorrectionGroup,jdbcType=INTEGER},
        GroupMemberTypeValue =
        #{groupMemberTypeValue,jdbcType=CHAR},
        StopCorrectionTypeValue =
        #{stopCorrectionTypeValue,jdbcType=CHAR},
        IsOutofControl =
        #{isOutofControl,jdbcType=INTEGER},
        ReasonforOutofControl =
        #{reasonforOutofControl,jdbcType=VARCHAR},
        CheckingOutofControl =
        #{checkingOutofControl,jdbcType=VARCHAR},
        CorrectingOutofControl =
        #{correctingOutofControl,jdbcType=VARCHAR},
        IsMissingControl =
        #{isMissingControl,jdbcType=INTEGER},
        ReasonforMissingControl =
        #{reasonforMissingControl,jdbcType=VARCHAR},
        CheckingMissingControl =
        #{checkingMissingControl,jdbcType=VARCHAR},
        CorrectingMissingControl =
        #{correctingMissingControl,jdbcType=VARCHAR},
        RewardandPunishment =
        #{rewardandPunishment,jdbcType=VARCHAR},
        ChangingPunishment =
        #{changingPunishment,jdbcType=VARCHAR},
        IsRecidivism =
        #{isRecidivism,jdbcType=INTEGER},
        RecidivismCharge =
        #{recidivismCharge,jdbcType=VARCHAR}
        where ExtendCorrectionerID =
        #{extendCorrectionerID,jdbcType=BIGINT}
    </update>
    <select id="selectByPrimaryKey" parameterType="java.lang.Long"
            resultMap="BaseResultMap">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        select ExtendCorrectionerID, CertifID, CommunityCorrectionerCode,
        OriginalDetentionPlace,
        CorrectingTypeValue, CaseTypeValue,
        ConcreteAccusation, OriginalSentence,
        OriginalSentenceStartDate,
        OriginalSentenceEndDate, CorrectionStartDate, CorrectionEndDate,
        AcceptTypeValue,
        IsRecidivist, IsCreatingCorrectionGroup,
        GroupMemberTypeValue,
        StopCorrectionTypeValue,
        IsOutofControl,
        ReasonforOutofControl, CheckingOutofControl, CorrectingOutofControl,
        IsMissingControl, ReasonforMissingControl, CheckingMissingControl,
        CorrectingMissingControl,
        RewardandPunishment, ChangingPunishment,
        IsRecidivism, RecidivismCharge
        from
        TESpecialPopulationExtendCommunityCorrectioner
        where
        ExtendCorrectionerID = #{extendCorrectionerID,jdbcType=BIGINT}
    </select>
    <select id="selectAll" resultMap="BaseResultMap">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        select ExtendCorrectionerID, CertifID, CommunityCorrectionerCode,
        OriginalDetentionPlace,
        CorrectingTypeValue, CaseTypeValue,
        ConcreteAccusation, OriginalSentence,
        OriginalSentenceStartDate,
        OriginalSentenceEndDate, CorrectionStartDate, CorrectionEndDate,
        AcceptTypeValue,
        IsRecidivist, IsCreatingCorrectionGroup,
        GroupMemberTypeValue,
        StopCorrectionTypeValue,
        IsOutofControl,
        ReasonforOutofControl, CheckingOutofControl, CorrectingOutofControl,
        IsMissingControl, ReasonforMissingControl, CheckingMissingControl,
        CorrectingMissingControl,
        RewardandPunishment, ChangingPunishment,
        IsRecidivism, RecidivismCharge
        from
        TESpecialPopulationExtendCommunityCorrectioner
    </select>
    <select id="selectByCertifID" resultMap="BaseResultMap">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        select ExtendCorrectionerID, CertifID, CommunityCorrectionerCode,
        OriginalDetentionPlace,
        CorrectingTypeValue, CaseTypeValue,
        ConcreteAccusation, OriginalSentence,
        OriginalSentenceStartDate,
        OriginalSentenceEndDate, CorrectionStartDate, CorrectionEndDate,
        AcceptTypeValue,
        IsRecidivist, IsCreatingCorrectionGroup,
        GroupMemberTypeValue,
        StopCorrectionTypeValue,
        IsOutofControl,
        ReasonforOutofControl, CheckingOutofControl, CorrectingOutofControl,
        IsMissingControl, ReasonforMissingControl, CheckingMissingControl,
        CorrectingMissingControl,
        RewardandPunishment, ChangingPunishment,
        IsRecidivism, RecidivismCharge
        from
        TESpecialPopulationExtendCommunityCorrectioner where
        CertifID=#{certifID}
    </select>

    <select id="selectWithLocation" resultMap="CommunityCorrectionerVO">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        SELECT
        t1.ExtendCorrectionerID,t1.CertifID,t1.CommunityCorrectionerCode,t1.OriginalDetentionPlace,
        t2.CorrectingTypeName,t3.CaseTypeName,t1.ConcreteAccusation,t1.OriginalSentence,t1.OriginalSentenceStartDate,
        t1.OriginalSentenceEndDate,t1.CorrectionStartDate,t1.CorrectionEndDate,t4.AcceptTypeName,t1.IsRecidivist,
        t1.IsCreatingCorrectionGroup,t5.GroupMemberTypeName,t6.StopCorrectionTypeName,t1.IsOutofControl,
        t1.ReasonforOutofControl,t1.CheckingOutofControl,t1.CorrectingOutofControl,t1.IsMissingControl,
        t1.IsMissingControl,t1.ReasonforMissingControl,t1.CheckingMissingControl,t1.CorrectingMissingControl,
        t1.RewardandPunishment,t1.ChangingPunishment,t1.IsRecidivism,t1.RecidivismCharge,t9.Longitude,t9.Latitude
        FROM TESpecialPopulationExtendCommunityCorrectioner t1
        left join
        TECODECorrectingType t2 on
        t1.CorrectingTypeValue=t2.CorrectingTypeValue
        left join TECODECaseType
        t3 on t1.CaseTypeValue=t3.CaseTypeValue
        left join TECODEAcceptType t4
        on t1.AcceptTypeValue=t4.AcceptTypeValue
        left join
        TECODEMembersofGroupType t5 on
        t1.GroupMemberTypeValue=t5.GroupMemberTypeValue
        left join
        TECODEStopCorrectionType t6 on
        t1.StopCorrectionTypeValue=t6.StopCorrectionTypeValue
        left join
        TEServedPersonBasic t7 on t1.CertifID=t7.CertifID
        left join
        TRPersonHouse t8 on t7.ServedPersonID=t8.ServedPersonID
        left join
        TEHouse t9 on t8.HouseID=t9.HouseID
        where 1=1
        <if test="netGridID != null and netGridID != 0">
            and t7.NetGridID=#{netGridID}
        </if>
    </select>
    <select id="getCommunityCorrectionerInfo" resultMap="SpecialPsychoticInfoVO">
        SELECT t1.ExtendCorrectionerID,
        t2.Name,t2.Sex,t3.PoliticsTypeName,t2.CertifID,t2.BirthDate,t2.Career,t2.MobileTel
        FROM TESpecialPopulationExtendCommunityCorrectioner t1
        left join
        TEServedPersonBasic t2
        on t1.CertifID=t2.CertifID
        left join
        TECODEPoliticsType t3
        on t2.Politics=t3.PoliticsTypeValue
        where 1=1
        <if test="name != null and name != ''">
            and t2.Name like CONCAT(CONCAT('%',
            #{name}), '%')
        </if>
        <if test="certifID != null and certifID != ''">
            and t2.CertifID =
            #{certifID}
        </if>
        <if test="netGridID != 0 and netGridID !=null">
            and t2.NetGridID= #{netGridID}
        </if>
        limit #{start}, #{pageSize};
    </select>
    <select id="getCommunityCorrectionerInfoCount" resultType="java.lang.Integer">
        SELECT
        count(*)
        FROM TESpecialPopulationExtendCommunityCorrectioner t1
        left
        join
        TEServedPersonBasic t2
        on t1.CertifID=t2.CertifID
        left join
        TECODEPoliticsType t3
        on t2.Politics=t3.PoliticsTypeValue
        where 1=1
        <if test="name != null and name != ''">
            and t2.Name like CONCAT(CONCAT('%',
            #{name}), '%')
        </if>
        <if test="certifID != null and certifID != ''">
            and t2.CertifID =
            #{certifID}
        </if>
        <if test="netGridID != 0 and netGridID !=null">
            and t2.NetGridID= #{netGridID}
        </if>
    </select>
    <select id="getCount" resultType="java.lang.Integer">
        select count(*) from TESpecialPopulationExtendCommunityCorrectioner left join TEServedPersonBasic on
        TESpecialPopulationExtendCommunityCorrectioner.CertifID=TEServedPersonBasic.CertifID
        where 1=1
        <if test="netGridID != null and netGridID != 0">
            and TEServedPersonBasic.NetGridID=#{netGridID}
        </if>
    </select>
</mapper>