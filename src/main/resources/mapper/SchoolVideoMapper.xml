<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jtzh.mapper.SchoolVideoMapper">
    <resultMap id="BaseResultMap" type="com.jtzh.entity.SchoolVideo">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <id column="VideoID" jdbcType="BIGINT" property="videoID"/>
        <result column="VideoName" jdbcType="VARCHAR" property="videoName"/>
        <result column="Longitude" jdbcType="DOUBLE" property="longitude"/>
        <result column="Latitude" jdbcType="DOUBLE" property="latitude"/>
        <result column="VideoURL" jdbcType="VARCHAR" property="videoURL"/>
        <result column="SchoolID" jdbcType="BIGINT" property="schoolID"/>
        <result column="Producter" jdbcType="VARCHAR" property="producter"/>
        <result column="Remarks" jdbcType="VARCHAR" property="remarks"/>
        <result column="NetGridID" jdbcType="BIGINT" property="netGridID"/>
    </resultMap>
    <resultMap id="SchoolVideoVO" type="com.jtzh.vo.school.SchoolVideoVO">
        <id column="VideoID" jdbcType="BIGINT" property="videoID"/>
        <result column="VideoName" jdbcType="VARCHAR" property="videoName"/>
        <result column="Longitude" jdbcType="DOUBLE" property="longitude"/>
        <result column="Latitude" jdbcType="DOUBLE" property="latitude"/>
        <result column="VideoURL" jdbcType="VARCHAR" property="videoURL"/>
        <result column="SchoolName" jdbcType="VARCHAR" property="schoolName"/>
        <result column="Producter" jdbcType="VARCHAR" property="producter"/>
        <result column="Remarks" jdbcType="VARCHAR" property="remarks"/>
        <result column="NetGridName" jdbcType="VARCHAR" property="netGridName"/>
    </resultMap>
    <resultMap id="CheckVideoVO" type="com.jtzh.vo.video.CheckVideoVO">
        <id column="VideoID" jdbcType="BIGINT" property="id"/>
        <result column="VideoName" jdbcType="VARCHAR" property="label"/>
        <result column="VideoURL" jdbcType="VARCHAR" property="url"/>
    </resultMap>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        delete from TESchoolVideo
        where VideoID = #{videoID,jdbcType=BIGINT}
    </delete>
    <insert id="insert" parameterType="com.jtzh.entity.SchoolVideo">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into TESchoolVideo (VideoID, VideoName, Longitude,
        Latitude, VideoURL, SchoolID,
        Producter, Remarks, NetGridID
        )
        values (#{videoID,jdbcType=BIGINT}, #{videoName,jdbcType=VARCHAR}, #{longitude,jdbcType=DOUBLE},
        #{latitude,jdbcType=DOUBLE}, #{videoURL,jdbcType=VARCHAR}, #{schoolID,jdbcType=BIGINT},
        #{producter,jdbcType=VARCHAR}, #{remarks,jdbcType=VARCHAR}, #{netGridID,jdbcType=BIGINT}
        )
    </insert>
    <update id="updateByPrimaryKey" parameterType="com.jtzh.entity.SchoolVideo">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update TESchoolVideo
        set VideoName = #{videoName,jdbcType=VARCHAR},
        Longitude = #{longitude,jdbcType=DOUBLE},
        Latitude = #{latitude,jdbcType=DOUBLE},
        VideoURL = #{videoURL,jdbcType=VARCHAR},
        SchoolID = #{schoolID,jdbcType=BIGINT},
        Producter = #{producter,jdbcType=VARCHAR},
        Remarks = #{remarks,jdbcType=VARCHAR},
        NetGridID = #{netGridID,jdbcType=BIGINT}
        where VideoID = #{videoID,jdbcType=BIGINT}
    </update>
    <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select VideoID, VideoName, Longitude, Latitude, VideoURL, SchoolID, Producter, Remarks,
        NetGridID
        from TESchoolVideo
        where VideoID = #{videoID,jdbcType=BIGINT}
    </select>
    <select id="selectAll" resultMap="BaseResultMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select VideoID, VideoName, Longitude, Latitude, VideoURL, SchoolID, Producter, Remarks,
        NetGridID
        from TESchoolVideo
    </select>
    <select id="getSchoolVideoDetailByID" resultMap="SchoolVideoVO">
      select VideoID, VideoName, Longitude, Latitude, VideoURL, SchoolName, Producter, Remarks,NetGridName
        from TESchoolVideo t1
        left join TESchool t2 on t1.SchoolID=t2.id
        left join TENetGrid t3 on t1.NetGridID=t3.NetGridID
        where VideoID=#{id}
    </select>
    <select id="getSchoolVideoQuery" resultMap="SchoolVideoVO">
        select VideoID, VideoName, Longitude, Latitude, VideoURL, SchoolName, Producter, Remarks,NetGridName
        from TESchoolVideo t1
        left join TESchool t2 on t1.SchoolID=t2.id
        left join TENetGrid t3 on t1.NetGridID=t3.NetGridID
        where 1=1
        <if test="schoolName!=null and schoolName!=''">
            and t2.SchoolName like CONCAT(CONCAT('%',
            #{schoolName}), '%')
        </if>
        <if test="netGridID!=null and netGridID!=0">
            and t1.NetGridID=#{netGridID}
        </if>
        limit #{start}, #{pageSize}
    </select>
    <select id="getSchoolVideoQueryCount" resultType="java.lang.Integer">
        select count(*)
        from TESchoolVideo t1
        left join TESchool t2 on t1.SchoolID=t2.id
        left join TENetGrid t3 on t1.NetGridID=t3.NetGridID
        where 1=1
        <if test="schoolName!=null and schoolName!=''">
            and t2.SchoolName like CONCAT(CONCAT('%',
            #{schoolName}), '%')
        </if>
        <if test="netGridID!=null and netGridID!=0">
            and t1.NetGridID=#{netGridID}
        </if>
    </select>
    <select id="getVideoForTree" resultMap="CheckVideoVO">
       select VideoID, VideoName, VideoURL
    from TESchoolVideo where SchoolID=#{id}
    </select>
</mapper>