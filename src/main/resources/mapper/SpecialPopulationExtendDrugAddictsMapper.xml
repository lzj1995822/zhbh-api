<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jtzh.mapper.SpecialPopulationExtendDrugAddictsMapper">
    <resultMap id="BaseResultMap"
               type="com.jtzh.entity.SpecialPopulationExtendDrugAddicts">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        <id column="ExtendCorrectionerID" jdbcType="BIGINT" property="extendCorrectionerID"/>
        <result column="CertifID" jdbcType="CHAR" property="certifID"/>
        <result column="FirstFoundDate" jdbcType="VARCHAR" property="firstFoundDate"/>
        <result column="ControlSituationTypeValue" jdbcType="CHAR"
                property="controlSituationTypeValue"/>
        <result column="ControlOfficerName" jdbcType="VARCHAR"
                property="controlOfficerName"/>
        <result column="ControlOfficerContact" jdbcType="VARCHAR"
                property="controlOfficerContact"/>
        <result column="HelpingInf" jdbcType="VARCHAR" property="helpingInf"/>
        <result column="HelperName" jdbcType="VARCHAR" property="helperName"/>
        <result column="HelperContact" jdbcType="VARCHAR" property="helperContact"/>
        <result column="IsCrime" jdbcType="INTEGER" property="isCrime"/>
        <result column="CrimeInf" jdbcType="VARCHAR" property="crimeInf"/>
        <result column="DrugReasonTypeValue" jdbcType="CHAR"
                property="drugReasonTypeValue"/>
        <result column="DrugResultTypeValue" jdbcType="CHAR"
                property="drugResultTypeValue"/>
    </resultMap>

    <resultMap id="DrugAddictsVO" type="com.jtzh.vo.gis.DrugAddictsVO">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        <result column="ExtendCorrectionerID" jdbcType="BIGINT"
                property="extendCorrectionerID"/>
        <result column="CertifID" jdbcType="CHAR" property="certifID"/>
        <result column="FirstFoundDate" jdbcType="VARCHAR" property="firstFoundDate"/>
        <result column="ControlSituationTypeName" jdbcType="VARCHAR"
                property="controlSituationTypeName"/>
        <result column="ControlOfficerName" jdbcType="VARCHAR"
                property="controlOfficerName"/>
        <result column="ControlOfficerContact" jdbcType="VARCHAR"
                property="controlOfficerContact"/>
        <result column="HelpingInf" jdbcType="VARCHAR" property="helpingInf"/>
        <result column="HelperName" jdbcType="VARCHAR" property="helperName"/>
        <result column="HelperContact" jdbcType="VARCHAR" property="helperContact"/>
        <result column="IsCrime" jdbcType="INTEGER" property="isCrime"/>
        <result column="CrimeInf" jdbcType="VARCHAR" property="crimeInf"/>
        <result column="DrugReasonTypeName" jdbcType="VARCHAR"
                property="drugReasonTypeName"/>
        <result column="DrugResultTypeName" jdbcType="VARCHAR"
                property="drugResultTypeName"/>
        <result column="Longitude" jdbcType="DOUBLE" property="longitude"/>
        <result column="Latitude" jdbcType="DOUBLE" property="latitude"/>
    </resultMap>

    <resultMap type="com.jtzh.vo.served.SpecialPsychoticInfoVO"
               id="SpecialPsychoticInfoVO">
        <result column="ExtendCorrectionerID" jdbcType="BIGINT"
                property="id"/>
        <result column="Name" jdbcType="VARCHAR" property="name"/>
        <result column="Sex" jdbcType="CHAR" property="sex"/>
        <result column="BirthDate" jdbcType="VARCHAR" property="birthDate"/>
        <result column="PoliticsTypeName" jdbcType="VARCHAR" property="politics"/>
        <result column="CertifID" jdbcType="CHAR" property="certifID"/>
        <result column="Career" jdbcType="VARCHAR" property="career"/>
        <result column="MobileTel" jdbcType="VARCHAR" property="mobileTel"/>
    </resultMap>

    <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        delete from TESpecialPopulationExtendDrugAddicts
        where
        ExtendCorrectionerID = #{extendCorrectionerID,jdbcType=BIGINT}
    </delete>
    <insert id="insert" parameterType="com.jtzh.entity.SpecialPopulationExtendDrugAddicts"
            keyProperty="extendCorrectionerID" useGeneratedKeys="true">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        insert into TESpecialPopulationExtendDrugAddicts
        (ExtendCorrectionerID, CertifID, FirstFoundDate,
        ControlSituationTypeValue, ControlOfficerName,
        ControlOfficerContact,
        HelpingInf, HelperName,
        HelperContact, IsCrime, CrimeInf,
        DrugReasonTypeValue, DrugResultTypeValue)
        values
        (#{extendCorrectionerID,jdbcType=BIGINT}, #{certifID,jdbcType=CHAR},
        #{firstFoundDate,jdbcType=DATE},
        #{controlSituationTypeValue,jdbcType=CHAR},
        #{controlOfficerName,jdbcType=VARCHAR},
        #{controlOfficerContact,jdbcType=VARCHAR},
        #{helpingInf,jdbcType=VARCHAR}, #{helperName,jdbcType=VARCHAR},
        #{helperContact,jdbcType=VARCHAR}, #{isCrime,jdbcType=INTEGER},
        #{crimeInf,jdbcType=VARCHAR},
        #{drugReasonTypeValue,jdbcType=CHAR},
        #{drugResultTypeValue,jdbcType=CHAR})
    </insert>
    <update id="updateByPrimaryKey" parameterType="com.jtzh.entity.SpecialPopulationExtendDrugAddicts">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        update TESpecialPopulationExtendDrugAddicts
        set CertifID =
        #{certifID,jdbcType=CHAR},
        FirstFoundDate =
        #{firstFoundDate,jdbcType=DATE},
        ControlSituationTypeValue =
        #{controlSituationTypeValue,jdbcType=CHAR},
        ControlOfficerName =
        #{controlOfficerName,jdbcType=VARCHAR},
        ControlOfficerContact =
        #{controlOfficerContact,jdbcType=VARCHAR},
        HelpingInf =
        #{helpingInf,jdbcType=VARCHAR},
        HelperName =
        #{helperName,jdbcType=VARCHAR},
        HelperContact =
        #{helperContact,jdbcType=VARCHAR},
        IsCrime =
        #{isCrime,jdbcType=INTEGER},
        CrimeInf = #{crimeInf,jdbcType=VARCHAR},
        DrugReasonTypeValue = #{drugReasonTypeValue,jdbcType=CHAR},
        DrugResultTypeValue = #{drugResultTypeValue,jdbcType=CHAR}
        where
        ExtendCorrectionerID = #{extendCorrectionerID,jdbcType=BIGINT}
    </update>
    <select id="selectByPrimaryKey" parameterType="java.lang.Long"
            resultMap="BaseResultMap">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        select ExtendCorrectionerID, CertifID, FirstFoundDate,
        ControlSituationTypeValue,
        ControlOfficerName, ControlOfficerContact,
        HelpingInf, HelperName, HelperContact,
        IsCrime, CrimeInf,
        DrugReasonTypeValue, DrugResultTypeValue
        from
        TESpecialPopulationExtendDrugAddicts
        where ExtendCorrectionerID =
        #{extendCorrectionerID,jdbcType=BIGINT}
    </select>
    <select id="selectAll" resultMap="BaseResultMap">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        select ExtendCorrectionerID, CertifID, FirstFoundDate,
        ControlSituationTypeValue,
        ControlOfficerName, ControlOfficerContact,
        HelpingInf, HelperName, HelperContact,
        IsCrime, CrimeInf,
        DrugReasonTypeValue, DrugResultTypeValue
        from
        TESpecialPopulationExtendDrugAddicts
    </select>
    <select id="selectByCertifID" resultMap="BaseResultMap">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        select ExtendCorrectionerID, CertifID, FirstFoundDate,
        ControlSituationTypeValue,
        ControlOfficerName, ControlOfficerContact,
        HelpingInf, HelperName, HelperContact,
        IsCrime, CrimeInf,
        DrugReasonTypeValue, DrugResultTypeValue
        from
        TESpecialPopulationExtendDrugAddicts where CertifID=#{certifID}
    </select>

    <select id="selectWithLocation" resultMap="DrugAddictsVO">
        <!-- WARNING - @mbg.generated This element is automatically generated by
            MyBatis Generator, do not modify. -->
        SELECT
        t1.ExtendCorrectionerID,t1.CertifID,t1.FirstFoundDate,t2.ControlSituationTypeName,t1.ControlOfficerName,t1.ControlOfficerContact,
        t1.HelpingInf,t1.HelperName,t1.HelperContact,t1.IsCrime,t1.CrimeInf,t3.DrugReasonTypeName,t4.DrugResultTypeName,t7.Longitude,t7.Latitude
        FROM TESpecialPopulationExtendDrugAddicts t1
        left join
        TECODEControlSituationType t2 on
        t1.ControlSituationTypeValue=t2.ControlSituationTypeValue
        left join
        TECODEDrugReasonType t3 on
        t1.DrugReasonTypeValue=t3.DrugReasonTypeValue
        left join
        TECODEDrugResultType t4 on
        t1.DrugResultTypeValue=t4.DrugResultTypeValue
        left join
        TEServedPersonBasic t5 on t1.CertifID=t5.CertifID
        left join
        TRPersonHouse t6 on t5.ServedPersonID=t6.ServedPersonID
        left join
        TEHouse t7 on t6.HouseID=t7.HouseID
        where 1=1
        <if test="netGridID != 0 and netGridID !=null">
            and t5.NetGridID= #{netGridID}
        </if>
    </select>
    <select id="getDrugAddictsInfo" resultMap="SpecialPsychoticInfoVO">
        SELECT t1.ExtendCorrectionerID,
        t2.Name,t2.Sex,t3.PoliticsTypeName,t2.CertifID,t2.BirthDate,t2.Career,t2.MobileTel
        FROM TESpecialPopulationExtendDrugAddicts t1
        left join
        TEServedPersonBasic t2
        on t1.CertifID=t2.CertifID
        left join
        TECODEPoliticsType t3
        on t2.Politics=t3.PoliticsTypeValue
        where 1=1
        <if test="name != null and name != ''">
            and t2.Name like CONCAT(CONCAT('%',
            #{name}), '%')
        </if>
        <if test="certifID != null and certifID != ''">
            and t2.CertifID =
            #{certifID}
        </if>
        <if test="netGridID != 0 and netGridID !=null">
            and t2.NetGridID= #{netGridID}
        </if>
        limit #{start}, #{pageSize};
    </select>
    <select id="getDrugAddictsInfoCount" resultType="java.lang.Integer">
        SELECT
        count(*)
        FROM TESpecialPopulationExtendDrugAddicts t1
        left
        join
        TEServedPersonBasic t2
        on t1.CertifID=t2.CertifID
        left join
        TECODEPoliticsType t3
        on t2.Politics=t3.PoliticsTypeValue
        where 1=1
        <if test="name != null and name != ''">
            and t2.Name like CONCAT(CONCAT('%',
            #{name}), '%')
        </if>
        <if test="certifID != null and certifID != ''">
            and t2.CertifID =
            #{certifID}
        </if>
        <if test="netGridID != 0 and netGridID !=null">
            and t2.NetGridID= #{netGridID}
        </if>
    </select>
    <select id="getCount" resultType="java.lang.Integer">
        select count(*) from TESpecialPopulationExtendDrugAddicts
        left join TEServedPersonBasic on TESpecialPopulationExtendDrugAddicts.CertifID=TEServedPersonBasic.CertifID
        where 1=1
        <if test="netGridID != 0 and netGridID !=null">
            and TEServedPersonBasic.NetGridID= #{netGridID}
        </if>
    </select>
</mapper>