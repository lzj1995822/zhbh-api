<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jtzh.mapper.InspectRecordMapper">
	<resultMap id="BaseResultMap" type="com.jtzh.entity.InspectRecord">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		<id column="InspectRecID" jdbcType="BIGINT" property="inspectRecID" />
		<result column="InspecterCertID" jdbcType="CHAR" property="inspecterCertID" />
		<result column="InspecterName" jdbcType="VARCHAR" property="inspecterName" />
		<result column="InspectDateTime" jdbcType="TIMESTAMP" property="inspectDateTime" />
		<result column="InspectContent" jdbcType="VARCHAR" property="inspectContent" />
		<result column="EnterpriseUSCcode" jdbcType="CHAR" property="enterpriseUSCcode" />
		<result column="Remarks" jdbcType="VARCHAR" property="remarks" />
	</resultMap>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		delete from TEInspectRecord
		where InspectRecID =
		#{inspectRecID,jdbcType=BIGINT}
	</delete>
	<insert id="insert" parameterType="com.jtzh.entity.InspectRecord">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		insert into TEInspectRecord (InspectRecID, InspecterCertID,
		InspecterName,
		InspectDateTime, InspectContent, EnterpriseUSCcode,
		Remarks)
		values (#{inspectRecID,jdbcType=BIGINT},
		#{inspecterCertID,jdbcType=CHAR},
		#{inspecterName,jdbcType=VARCHAR},
		#{inspectDateTime,jdbcType=TIMESTAMP},
		#{inspectContent,jdbcType=VARCHAR},
		#{enterpriseUSCcode,jdbcType=CHAR},
		#{remarks,jdbcType=VARCHAR})
	</insert>
	<update id="updateByPrimaryKey" parameterType="com.jtzh.entity.InspectRecord">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update TEInspectRecord
		set InspecterCertID =
		#{inspecterCertID,jdbcType=CHAR},
		InspecterName =
		#{inspecterName,jdbcType=VARCHAR},
		InspectDateTime =
		#{inspectDateTime,jdbcType=TIMESTAMP},
		InspectContent =
		#{inspectContent,jdbcType=VARCHAR},
		EnterpriseUSCcode =
		#{enterpriseUSCcode,jdbcType=CHAR},
		Remarks =
		#{remarks,jdbcType=VARCHAR}
		where InspectRecID =
		#{inspectRecID,jdbcType=BIGINT}
	</update>
	<select id="selectByPrimaryKey" parameterType="java.lang.Long"
		resultMap="BaseResultMap">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select InspectRecID, InspecterCertID, InspecterName, InspectDateTime,
		InspectContent,
		EnterpriseUSCcode, Remarks
		from TEInspectRecord
		where
		InspectRecID = #{inspectRecID,jdbcType=BIGINT}
	</select>
	<select id="selectAll" resultMap="BaseResultMap">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select InspectRecID, InspecterCertID, InspecterName, InspectDateTime,
		InspectContent,
		EnterpriseUSCcode, Remarks
		from TEInspectRecord
	</select>
	<select id="getInspectRecDetail" resultMap="BaseResultMap">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		SELECT t1.InspectRecID,t1.InspecterCertID,t1.InspecterName,
		t1.InspectDateTime,t1.InspectContent,t2.EnterpriseName EnterpriseUSCcode,t1.Remarks
		FROM
		TEInspectRecord t1
		left join TENonPublicEconomyOrg t2
		on
		t1.EnterpriseUSCcode=t2.EnterpriseUSCcode
		where t1.InspectRecID=#{id}
	</select>
	<select id="getInspectRecInfo" resultMap="BaseResultMap">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		SELECT t1.InspectRecID,t1.InspecterCertID,t1.InspecterName,
		t1.InspectDateTime,t1.InspectContent,t2.EnterpriseName EnterpriseUSCcode,t1.Remarks
		FROM
		TEInspectRecord t1
		left join TENonPublicEconomyOrg t2
		on
		t1.EnterpriseUSCcode=t2.EnterpriseUSCcode
		where 1=1
		<if test="name != null and name != ''">
			and t1.InspecterName like CONCAT(CONCAT('%',
			#{name}),
			'%')
		</if>
		<if test="date != null and date != ''">
			and date_format(t1.InspectDateTime,'%Y-%m-%d') =
			#{date}
		</if>
		<if test="code != '' and code !=null">
			and t1.EnterpriseUSCcode= #{code}
		</if>
		limit #{start}, #{pageSize};
	</select>
	<select id="getInspectRecInfoCount" resultType="int">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		SELECT count(*)
		FROM
		TEInspectRecord t1
		left join TENonPublicEconomyOrg
		t2
		on
		t1.EnterpriseUSCcode=t2.EnterpriseUSCcode
		where 1=1
		<if test="name != null and name != ''">
			and t1.InspecterName like CONCAT(CONCAT('%',
			#{name}),
			'%')
		</if>
		<if test="date != null and date != ''">
			and date_format(t1.InspectDateTime,'%Y-%m-%d') =
			#{date}
		</if>
		<if test="code != '' and code !=null">
			and t1.EnterpriseUSCcode= #{code}
		</if>
	</select>

</mapper>