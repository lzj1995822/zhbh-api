<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jtzh.mapper.KeyDriverMapper">
	<resultMap id="BaseResultMap" type="com.jtzh.entity.KeyDriver">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		<id column="KeyDriverID" jdbcType="BIGINT" property="keyDriverID" />
		<result column="KeyDriverName" jdbcType="VARCHAR" property="keyDriverName" />
		<result column="CertifID" jdbcType="CHAR" property="certifID" />
		<result column="Sex" jdbcType="CHAR" property="sex" />
		<result column="Contact" jdbcType="VARCHAR" property="contact" />
		<result column="DrivingLicenseTypeValue" jdbcType="CHAR"
			property="drivingLicenseTypeValue" />
		<result column="HomeAddress" jdbcType="VARCHAR" property="homeAddress" />
		<result column="NetGridID" jdbcType="BIGINT" property="netGridID" />
		<result column="EnterpriseUSCcode" jdbcType="CHAR" property="enterpriseUSCcode" />
		<result column="Remarks" jdbcType="VARCHAR" property="remarks" />
	</resultMap>

	<resultMap id="KeyDriverInfoVO" type="com.jtzh.vo.key.KeyDriverInfoVO">
		<id column="KeyDriverID" jdbcType="BIGINT" property="keyDriverID" />
		<result column="KeyDriverName" jdbcType="VARCHAR" property="keyDriverName" />
		<result column="CertifID" jdbcType="CHAR" property="certifID" />
		<result column="Sex" jdbcType="CHAR" property="sex" />
		<result column="Contact" jdbcType="VARCHAR" property="contact" />
		<result column="DrivingLicenseTypeName" jdbcType="VARCHAR"
			property="drivingLicenseTypeName" />
		<result column="HomeAddress" jdbcType="VARCHAR" property="homeAddress" />
		<result column="NetGridName" jdbcType="VARCHAR" property="netGridName" />
		<result column="EnterpriseUSCcode" jdbcType="CHAR" property="enterpriseUSCcode" />
		<result column="Remarks" jdbcType="VARCHAR" property="remarks" />
	</resultMap>

	<delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		delete from TEKeyDriver
		where KeyDriverID =
		#{keyDriverID,jdbcType=BIGINT}
	</delete>
	<insert id="insert" parameterType="com.jtzh.entity.KeyDriver" useGeneratedKeys="true" keyProperty="keyDriverID">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		insert into TEKeyDriver (KeyDriverID, KeyDriverName, CertifID,
		Sex,
		Contact, DrivingLicenseTypeValue,
		HomeAddress, NetGridID,
		EnterpriseUSCcode,
		Remarks)
		values (#{keyDriverID,jdbcType=BIGINT},
		#{keyDriverName,jdbcType=VARCHAR},
		#{certifID,jdbcType=CHAR},
		#{sex,jdbcType=CHAR}, #{contact,jdbcType=VARCHAR},
		#{drivingLicenseTypeValue,jdbcType=CHAR},
		#{homeAddress,jdbcType=VARCHAR}, #{netGridID,jdbcType=BIGINT},
		#{enterpriseUSCcode,jdbcType=CHAR},
		#{remarks,jdbcType=VARCHAR})
	</insert>
	<update id="updateByPrimaryKey" parameterType="com.jtzh.entity.KeyDriver">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update TEKeyDriver
		set KeyDriverName =
		#{keyDriverName,jdbcType=VARCHAR},
		CertifID =
		#{certifID,jdbcType=CHAR},
		Sex = #{sex,jdbcType=CHAR},
		Contact =
		#{contact,jdbcType=VARCHAR},
		DrivingLicenseTypeValue =
		#{drivingLicenseTypeValue,jdbcType=CHAR},
		HomeAddress =
		#{homeAddress,jdbcType=VARCHAR},
		NetGridID =
		#{netGridID,jdbcType=BIGINT},
		EnterpriseUSCcode =
		#{enterpriseUSCcode,jdbcType=CHAR},
		Remarks =
		#{remarks,jdbcType=VARCHAR}
		where KeyDriverID =
		#{keyDriverID,jdbcType=BIGINT}
	</update>
	<select id="selectByPrimaryKey" parameterType="java.lang.Long"
		resultMap="BaseResultMap">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select KeyDriverID, KeyDriverName, CertifID, Sex, Contact,
		DrivingLicenseTypeValue,
		HomeAddress, NetGridID, EnterpriseUSCcode,
		Remarks
		from TEKeyDriver
		where KeyDriverID =
		#{keyDriverID,jdbcType=BIGINT}
	</select>
	<select id="getDetailByKey" parameterType="java.lang.Long"
		resultMap="KeyDriverInfoVO">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		SELECT t1.KeyDriverID,t1.KeyDriverName,t1.CertifID,t1.Sex,t1.Contact,
		t2.DrivingLicenseTypeName,t1.HomeAddress,t3.NetGridName,t1.EnterpriseUSCcode,t1.Remarks
		FROM TEKeyDriver t1
		left join TECODEDrivingLicenseType t2
		on
		t1.DrivingLicenseTypeValue=t2.DrivingLicenseTypeValue
		left join
		TENetGrid t3 on t1.NetGridID=t3.NetGridID
		where t1.KeyDriverID =
		#{id}
	</select>
	<select id="selectAll" resultMap="BaseResultMap">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select KeyDriverID, KeyDriverName, CertifID, Sex, Contact,
		DrivingLicenseTypeValue,
		HomeAddress, NetGridID, EnterpriseUSCcode,
		Remarks
		from TEKeyDriver
	</select>

	<select id="getKeyDriverInfo" resultMap="KeyDriverInfoVO">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		SELECT t1.KeyDriverID,t1.KeyDriverName,t1.CertifID,t1.Sex,t1.Contact,
		t2.DrivingLicenseTypeName,t1.HomeAddress,t3.NetGridName,t1.EnterpriseUSCcode,t1.Remarks
		FROM TEKeyDriver t1
		left join TECODEDrivingLicenseType t2
		on
		t1.DrivingLicenseTypeValue=t2.DrivingLicenseTypeValue
		left join
		TENetGrid t3 on t1.NetGridID=t3.NetGridID
		where 1=1
		<if test="name != null and name != ''">
			and t1.KeyDriverName like CONCAT(CONCAT('%',
			#{name}), '%')
		</if>
		<if test="certID != '' and certID !=null">
			and t1.CertifID= #{certID}
		</if>
		<if test="netGridID != 0 and netGridID !=null">
			and t1.NetGridID= #{netGridID}
		</if>
		limit #{start}, #{pageSize};
	</select>

	<select id="getKeyDriverInfoCount" resultType="int">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		SELECT count(*)
		FROM TEKeyDriver t1
		left join TECODEDrivingLicenseType
		t2
		on
		t1.DrivingLicenseTypeValue=t2.DrivingLicenseTypeValue
		left join
		TENetGrid t3 on t1.NetGridID=t3.NetGridID
		where 1=1
		<if test="name != null and name != ''">
			and t1.KeyDriverName like CONCAT(CONCAT('%',
			#{name}), '%')
		</if>
		<if test="certID != '' and certID !=null">
			and t1.CertifID= #{certID}
		</if>
		<if test="netGridID != 0 and netGridID !=null">
			and t1.NetGridID= #{netGridID}
		</if>
	</select>


</mapper>